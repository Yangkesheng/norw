# Kafka

* 数据是按照一定顺序持久化保存。
* 数据分布在整个系统里，具备数据故障保护和性能伸缩能力。
* Kafka 的数据单元被称为消息。消息由字节数组组成，消息里的数据没有特别的格式或含义。
* 为了提高效率，消息被分批次写入 Kafka。批次就是一组消息，这些消息属于同一个主题和分区。
* 主题就好比数据库的表，或者文件系统里的文件夹。主题可以被分为若干个分区，一个分区就是一个提交日志。消息以追加的方式写入分区，然后以先入先出的顺序读取。
* 群组保证每个分区只能被一个消费者使用。

### broker和集群

* 一个独立的 Kafka 服务器被称为 broker。
* borker是集群的组成单位
* 分区复制
* 保留消息：要么保留一段时间（比如7天）、要么保留到消息数量达到上限。主题可以配置自己的保留策略

### 多集群

为什么使用多集群？

1. 数据类型分离
2. 安全需求隔离
3. 多数据中心（灾难恢复）

### 为什么选择kafka

1. 多个生产者
2. 多个消费者
3. 基于磁盘的数据存储
4. 伸缩性
5. 高性能

## 数据生态系统

#### 使用场景

1. 活动跟踪，比如页面访问次数和点击量
2. 传递消息
3. 度量指标和日志记录
4. 提交日志
5. 流处理

# Kafka生产者

## 	创建kafka生产者

#### 发送消息方式

1. 发送并忘记
2. 同步发送
3. 异步发送

